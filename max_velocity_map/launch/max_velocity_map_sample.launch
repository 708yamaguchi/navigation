<!-- for fetch -->
<!-- roslaunch max_velocity_map max_velocity_map_sample.launch -->

<!-- for pr1040 -->
<!-- roslaunch max_velocity_map max_velocity_map_sample.launch local_planner:=/move_base_node/DWAPlannerROS -->

<launch>
  <arg name="map_file" default="$(find max_velocity_map)/raw_maps/eng2-7f-0.05.yaml"/>
  <arg name="local_planner" default="/move_base/TrajectoryPlannerROS"/>

  <!-- limit max velocity -->
  <node pkg="max_velocity_map" type="max_velocity_map_node" name="max_velocity_node" output="screen">
    <remap from="max_velocity_map" to="max_velocity_map"/>
    <param name="local_planner" value="$(arg local_planner)"/>
  </node>

  <!-- republish cmd_vel to cmd_vel_x -->
  <node pkg="topic_tools" type="transform" name="transform_velocity" output="screen"
        args="/cmd_vel /cmd_vel_x std_msgs/Float32 'm.linear.x' --wait-for-start" >
  </node>

  <!-- serve up a map -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" >
    <remap from="map" to="max_velocity_map"/>
  </node>
</launch>
